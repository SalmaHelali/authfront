{"ast":null,"code":"import { GET_ADOPT } from '../types/AdoptType';\n\nconst {\n  REGISTER,\n  FAIL,\n  GET_CURRENT,\n  LOGIN,\n  LOGOUT,\n  GET_USERS\n} = require(\"../types/authTypes\");\n\nconst initialState = {\n  user: null,\n  errors: null,\n  auth: false,\n  users: [],\n  adopt: []\n};\n\nconst authreducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let {\n    type,\n    payload\n  } = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (type) {\n    case REGISTER:\n      localStorage.setItem(\"token\", payload.token);\n      return { ...state,\n        user: payload.user,\n        auth: true,\n        errors: null\n      };\n\n    case LOGIN:\n      localStorage.setItem(\"token\", payload.token);\n      return { ...state,\n        user: payload.user,\n        auth: true,\n        errors: null\n      };\n\n    case FAIL:\n      return { ...state,\n        errors: payload.errors,\n        auth: false\n      };\n\n    case GET_CURRENT:\n      return { ...state,\n        user: payload,\n        auth: true\n      };\n\n    case LOGOUT:\n      localStorage.removeItem(\"token\");\n      return { ...state,\n        auth: false,\n        user: null\n      };\n\n    case GET_USERS:\n      return { ...state,\n        users: payload.listOfUsers\n      };\n\n    case GET_ADOPT:\n      return { ...state,\n        adopt: payload.Animal\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default authreducer;","map":{"version":3,"sources":["/home/salma/Bureau/animalerie ðŸˆ/authentification/authfront/src/redux/reducers/authReducer.js"],"names":["GET_ADOPT","REGISTER","FAIL","GET_CURRENT","LOGIN","LOGOUT","GET_USERS","require","initialState","user","errors","auth","users","adopt","authreducer","state","type","payload","localStorage","setItem","token","removeItem","listOfUsers","Animal"],"mappings":"AACA,SAASA,SAAT,QAA0B,oBAA1B;;AACA,MAAM;AAAEC,EAAAA,QAAF;AAAYC,EAAAA,IAAZ;AAAkBC,EAAAA,WAAlB;AAA+BC,EAAAA,KAA/B;AAAuCC,EAAAA,MAAvC;AAAgDC,EAAAA;AAAhD,IAA8DC,OAAO,CAAC,oBAAD,CAA3E;;AAIA,MAAMC,YAAY,GAAG;AACrBC,EAAAA,IAAI,EAAE,IADe;AAErBC,EAAAA,MAAM,EAAC,IAFc;AAGrBC,EAAAA,IAAI,EAAG,KAHc;AAIrBC,EAAAA,KAAK,EAAC,EAJe;AAKrBC,EAAAA,KAAK,EAAC;AALe,CAArB;;AAQC,MAAMC,WAAW,GAAG,YAA6C;AAAA,MAA5CC,KAA4C,uEAApCP,YAAoC;AAAA,MAAtB;AAAEQ,IAAAA,IAAF;AAAQC,IAAAA;AAAR,GAAsB;;AAC9D,UAAQD,IAAR;AAEA,SAAKf,QAAL;AACIiB,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA6BF,OAAO,CAACG,KAArC;AACA,aAAO,EAAC,GAAGL,KAAJ;AAAaN,QAAAA,IAAI,EAAGQ,OAAO,CAACR,IAA5B;AAAkCE,QAAAA,IAAI,EAAE,IAAxC;AAA6CD,QAAAA,MAAM,EAAC;AAApD,OAAP;;AAGJ,SAAKN,KAAL;AACAc,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA6BF,OAAO,CAACG,KAArC;AACI,aAAO,EAAC,GAAGL,KAAJ;AAAaN,QAAAA,IAAI,EAAGQ,OAAO,CAACR,IAA5B;AAAkCE,QAAAA,IAAI,EAAE,IAAxC;AAA6CD,QAAAA,MAAM,EAAC;AAApD,OAAP;;AAEA,SAAKR,IAAL;AACA,aAAO,EAAC,GAAGa,KAAJ;AAAUL,QAAAA,MAAM,EAACO,OAAO,CAACP,MAAzB;AAAmCC,QAAAA,IAAI,EAAC;AAAxC,OAAP;;AAED,SAAKR,WAAL;AACA,aAAO,EAAC,GAAGY,KAAJ;AAAYN,QAAAA,IAAI,EAAGQ,OAAnB;AAA6BN,QAAAA,IAAI,EAAE;AAAnC,OAAP;;AAGA,SAAKN,MAAL;AACAa,MAAAA,YAAY,CAACG,UAAb,CAAwB,OAAxB;AACA,aAAO,EACH,GAAGN,KADA;AACQJ,QAAAA,IAAI,EAAC,KADb;AACqBF,QAAAA,IAAI,EAAC;AAD1B,OAAP;;AAIA,SAAKH,SAAL;AACH,aAAM,EAAE,GAAGS,KAAL;AAAYH,QAAAA,KAAK,EAAEK,OAAO,CAACK;AAA3B,OAAN;;AAGA,SAAKtB,SAAL;AACA,aAAO,EAAC,GAAGe,KAAJ;AAAUF,QAAAA,KAAK,EAACI,OAAO,CAACM;AAAxB,OAAP;;AAEA;AACI,aAAOR,KAAP;AAhCJ;AAkCH,CAnCA;;AAqCD,eAAeD,WAAf","sourcesContent":["\nimport { GET_ADOPT } from '../types/AdoptType';\nconst { REGISTER, FAIL, GET_CURRENT, LOGIN , LOGOUT , GET_USERS } = require(\"../types/authTypes\")\n\n\n\nconst initialState = {\nuser: null,\nerrors:null,\nauth : false,\nusers:[] , \nadopt:[]\n}\n\n const authreducer = (state = initialState, { type, payload }) => {\n    switch (type) {\n\n    case REGISTER :\n        localStorage.setItem(\"token\",payload.token)\n        return {...state  , user : payload.user, auth: true,errors:null }\n\n\n    case LOGIN : \n    localStorage.setItem(\"token\",payload.token)\n        return {...state  , user : payload.user, auth: true,errors:null }\n\n        case FAIL : \n        return {...state,errors:payload.errors  , auth:false}\n \n       case GET_CURRENT  : \n       return {...state , user : payload , auth: true} \n\n\n       case LOGOUT : \n       localStorage.removeItem(\"token\") ;\n       return {\n           ...state , auth:false , user:null \n       } \n\n       case GET_USERS:\n    return{ ...state, users :payload.listOfUsers };\n\n\n    case GET_ADOPT: \n    return {...state,adopt:payload.Animal}\n\n    default:\n        return state ;\n    }\n}\n\nexport default authreducer"]},"metadata":{},"sourceType":"module"}