{"ast":null,"code":"const {\n  REGISTER,\n  FAIL,\n  GET_CURRENT,\n  LOGIN,\n  LOGOUT,\n  GET_USERS\n} = require(\"../types/authTypes\");\n\nconst initialState = {\n  user: null,\n  errors: null,\n  auth: false,\n  users: []\n};\n\nconst authreducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let {\n    type,\n    payload\n  } = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (type) {\n    case REGISTER:\n      localStorage.setItem(\"token\", payload.token);\n      return { ...state,\n        user: payload.user,\n        auth: true,\n        errors: null\n      };\n\n    case LOGIN:\n      localStorage.setItem(\"token\", payload.token);\n      return { ...state,\n        user: payload.user,\n        auth: true,\n        errors: null\n      };\n\n    case FAIL:\n      return { ...state,\n        errors: payload.errors,\n        auth: false\n      };\n\n    case GET_CURRENT:\n      return { ...state,\n        user: payload,\n        auth: true\n      };\n\n    case LOGOUT:\n      localStorage.removeItem(\"token\");\n      return { ...state,\n        auth: false,\n        user: null\n      };\n\n    case GET_USERS:\n      return { ...state,\n        users: payload.listOfUsers\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default authreducer;","map":{"version":3,"sources":["/home/salma/Bureau/animalerie ðŸˆ/authentification/authfront/src/redux/reducers/authReducer.js"],"names":["REGISTER","FAIL","GET_CURRENT","LOGIN","LOGOUT","GET_USERS","require","initialState","user","errors","auth","users","authreducer","state","type","payload","localStorage","setItem","token","removeItem","listOfUsers"],"mappings":"AAAA,MAAM;AAAEA,EAAAA,QAAF;AAAYC,EAAAA,IAAZ;AAAkBC,EAAAA,WAAlB;AAA+BC,EAAAA,KAA/B;AAAuCC,EAAAA,MAAvC;AAAgDC,EAAAA;AAAhD,IAA8DC,OAAO,CAAC,oBAAD,CAA3E;;AAIA,MAAMC,YAAY,GAAG;AACrBC,EAAAA,IAAI,EAAE,IADe;AAErBC,EAAAA,MAAM,EAAC,IAFc;AAGrBC,EAAAA,IAAI,EAAG,KAHc;AAIrBC,EAAAA,KAAK,EAAC;AAJe,CAArB;;AAOC,MAAMC,WAAW,GAAG,YAA6C;AAAA,MAA5CC,KAA4C,uEAApCN,YAAoC;AAAA,MAAtB;AAAEO,IAAAA,IAAF;AAAQC,IAAAA;AAAR,GAAsB;;AAC9D,UAAQD,IAAR;AAEA,SAAKd,QAAL;AACIgB,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA6BF,OAAO,CAACG,KAArC;AACA,aAAO,EAAC,GAAGL,KAAJ;AAAaL,QAAAA,IAAI,EAAGO,OAAO,CAACP,IAA5B;AAAkCE,QAAAA,IAAI,EAAE,IAAxC;AAA6CD,QAAAA,MAAM,EAAC;AAApD,OAAP;;AAGJ,SAAKN,KAAL;AACAa,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA6BF,OAAO,CAACG,KAArC;AACI,aAAO,EAAC,GAAGL,KAAJ;AAAaL,QAAAA,IAAI,EAAGO,OAAO,CAACP,IAA5B;AAAkCE,QAAAA,IAAI,EAAE,IAAxC;AAA6CD,QAAAA,MAAM,EAAC;AAApD,OAAP;;AAEA,SAAKR,IAAL;AACA,aAAO,EAAC,GAAGY,KAAJ;AAAUJ,QAAAA,MAAM,EAACM,OAAO,CAACN,MAAzB;AAAmCC,QAAAA,IAAI,EAAC;AAAxC,OAAP;;AAED,SAAKR,WAAL;AACA,aAAO,EAAC,GAAGW,KAAJ;AAAYL,QAAAA,IAAI,EAAGO,OAAnB;AAA6BL,QAAAA,IAAI,EAAE;AAAnC,OAAP;;AAGA,SAAKN,MAAL;AACAY,MAAAA,YAAY,CAACG,UAAb,CAAwB,OAAxB;AACA,aAAO,EACH,GAAGN,KADA;AACQH,QAAAA,IAAI,EAAC,KADb;AACqBF,QAAAA,IAAI,EAAC;AAD1B,OAAP;;AAIA,SAAKH,SAAL;AACH,aAAM,EAAE,GAAGQ,KAAL;AAAYF,QAAAA,KAAK,EAAEI,OAAO,CAACK;AAA3B,OAAN;;AAEA;AACI,aAAOP,KAAP;AA5BJ;AA8BH,CA/BA;;AAiCD,eAAeD,WAAf","sourcesContent":["const { REGISTER, FAIL, GET_CURRENT, LOGIN , LOGOUT , GET_USERS } = require(\"../types/authTypes\")\n\n\n\nconst initialState = {\nuser: null,\nerrors:null,\nauth : false,\nusers:[]\n}\n\n const authreducer = (state = initialState, { type, payload }) => {\n    switch (type) {\n\n    case REGISTER :\n        localStorage.setItem(\"token\",payload.token)\n        return {...state  , user : payload.user, auth: true,errors:null }\n\n\n    case LOGIN : \n    localStorage.setItem(\"token\",payload.token)\n        return {...state  , user : payload.user, auth: true,errors:null }\n\n        case FAIL : \n        return {...state,errors:payload.errors  , auth:false}\n \n       case GET_CURRENT  : \n       return {...state , user : payload , auth: true} \n\n\n       case LOGOUT : \n       localStorage.removeItem(\"token\") ;\n       return {\n           ...state , auth:false , user:null \n       } \n\n       case GET_USERS:\n    return{ ...state, users :payload.listOfUsers };\n\n    default:\n        return state ;\n    }\n}\n\nexport default authreducer"]},"metadata":{},"sourceType":"module"}